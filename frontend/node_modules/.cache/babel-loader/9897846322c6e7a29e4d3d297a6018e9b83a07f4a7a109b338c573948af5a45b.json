{"ast":null,"code":"import _objectSpread from\"C:/Users/beatr/OneDrive/Documentos/engsoft/orcid-project-gavioes-da-fiel/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/Dashboard.js\nimport React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{FaSearch,FaMoon,FaSun}from\"react-icons/fa\";import\"../Dashboard.css\";import LoadingDrop from\"../components/LoadingDrop\";import Sidebar from\"../components/Sidebar\";import ChartsSection from\"../components/ChartsSection\";import FilterPanel from\"../components/filtros\";import AggregatedMetrics from\"../components/AggregatedMetrics\";import{PiStudentBold}from\"react-icons/pi\";import{FaRegUser}from\"react-icons/fa\";import{MdOutlineWorkOutline}from\"react-icons/md\";import MenuIcon from\"@mui/icons-material/Menu\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){var _data$personal,_data$employments,_data$keywords,_selectedWork$authors,_selectedWork$cited_b;const{authorId}=useParams();const[data,setData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState(\"\");const[yearFilter,setYearFilter]=useState(\"\");const[citationSort,setCitationSort]=useState(\"\");const[filteredWorks,setFilteredWorks]=useState([]);const[sidebarOpen,setSidebarOpen]=useState(false);const[darkMode,setDarkMode]=useState(false);const[selectedTab,setTab]=useState(\"Biografia\");const[showFullBio,setShowFullBio]=useState(false);const[selectedWork,setSelectedWork]=useState(null);const[isModalClosing,setIsModalClosing]=useState(false);useEffect(()=>{document.body.classList.toggle(\"dark\",darkMode);},[darkMode]);const toggleDarkMode=()=>setDarkMode(prev=>!prev);useEffect(()=>{async function fetchAll(){setLoading(true);setError(null);try{const res=await fetch(\"http://localhost:8000/orcid/\".concat(authorId,\"/all\"));if(!res.ok)throw new Error(\"Status \".concat(res.status));const json=await res.json();// Faz fetch dos cited_by_count\nconst citRes=await fetch(\"http://localhost:8000/orcid/\".concat(authorId,\"/works/filter_by_citations\"));if(!citRes.ok)throw new Error(\"Status \".concat(citRes.status));const citJson=await citRes.json();const worksWithCitations=citJson.works_sorted_by_citations;const updatedWorks=(json.works||[]).map(work=>{var _matching$cited_by_co;const matching=worksWithCitations.find(w=>w.doi===work.doi);return _objectSpread(_objectSpread({},work),{},{cited_by_count:(_matching$cited_by_co=matching===null||matching===void 0?void 0:matching.cited_by_count)!==null&&_matching$cited_by_co!==void 0?_matching$cited_by_co:0});});setData(_objectSpread(_objectSpread({},json),{},{works:updatedWorks}));}catch(err){setError(err.message);}finally{setLoading(false);}}fetchAll();},[authorId]);const handleKeywordClick=async keyword=>{if(!keyword)return;setLoading(true);try{const res=await fetch(\"http://localhost:8000/orcid/\".concat(authorId,\"/works/filter_by_keyword?keyword=\").concat(encodeURIComponent(keyword)));if(!res.ok)throw new Error(\"Status \".concat(res.status));const json=await res.json();setFilteredWorks(json.works||[]);setTab(\"Publicações\");}catch(err){console.error(\"Erro ao filtrar por keyword:\",err);}finally{setLoading(false);}};useEffect(()=>{async function fetchAndFilterWorks(){if(!(data!==null&&data!==void 0&&data.works))return;try{let works=[];if(citationSort===\"desc\"){const res=await fetch(\"http://localhost:8000/orcid/\".concat(authorId,\"/works/filter_by_citations\"));if(!res.ok)throw new Error(\"Status \".concat(res.status));const json=await res.json();works=json.works_sorted_by_citations||[];}else{works=[...data.works].sort((a,b)=>(b.year||0)-(a.year||0));}if(yearFilter){works=works.filter(w=>{var _w$year;return((_w$year=w.year)===null||_w$year===void 0?void 0:_w$year.toString())===yearFilter;});}if(searchTerm){works=works.filter(w=>{var _w$title;return(_w$title=w.title)===null||_w$title===void 0?void 0:_w$title.toLowerCase().includes(searchTerm.toLowerCase());});}setFilteredWorks(works);}catch(err){console.error(\"Erro ao buscar obras filtradas:\",err);}}fetchAndFilterWorks();},[authorId,data,searchTerm,yearFilter,citationSort]);const handleWorkClick=async(work,e)=>{if(e)e.preventDefault();if(!(work!==null&&work!==void 0&&work.doi)){setSelectedWork(work);// fallback\nreturn;}console.log(work);setLoading(true);try{const encodedDoi=encodeURIComponent(work.doi);const res=await fetch(\"http://localhost:8000/works/publication/\".concat(encodedDoi));if(!res.ok)throw new Error(\"Erro ao buscar detalhes da publicação\");const detailedWork=await res.json();setSelectedWork(detailedWork);}catch(err){console.error(\"Erro ao buscar detalhes do trabalho:\",err);setSelectedWork(work);// fallback\n}finally{setLoading(false);}};const handleDownloadXML=async()=>{try{const response=await fetch(\"http://localhost:8000/orcid/\".concat(authorId,\"/export/xml\"));if(!response.ok)throw new Error(\"Erro ao baixar XML\");const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=\"perfil_\".concat(authorId,\".xml\");a.click();window.URL.revokeObjectURL(url);}catch(error){console.error(\"Erro ao baixar o XML:\",error);alert(\"Falha ao baixar o arquivo XML.\");}};const handleCloseModal=()=>{setIsModalClosing(true);setTimeout(()=>{setSelectedWork(null);setIsModalClosing(false);},300);};if(loading&&!data)return/*#__PURE__*/_jsx(LoadingDrop,{});if(error)return/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[\"Erro: \",error]});if(!data)return null;const hasBio=!!((_data$personal=data.personal)!==null&&_data$personal!==void 0&&_data$personal.biography);const hasEmployments=Array.isArray(data.employments)&&data.employments.length>0;const hasEducations=Array.isArray(data.educations)&&data.educations.length>0;return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\".concat(sidebarOpen?\" sidebar-open\":\"\"),children:[/*#__PURE__*/_jsx(Sidebar,{open:sidebarOpen,setOpen:setSidebarOpen,data:data}),/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"hamburger\",onClick:()=>setSidebarOpen(!sidebarOpen),\"aria-label\":\"Toggle sidebar\",children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"../img/logo.png\",alt:\"Logo da Plataforma\",className:\"logo-img\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-controls\",children:/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle\",onClick:toggleDarkMode,children:darkMode?/*#__PURE__*/_jsx(FaSun,{}):/*#__PURE__*/_jsx(FaMoon,{})})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:data.personal.full_name}),((_data$employments=data.employments)===null||_data$employments===void 0?void 0:_data$employments.some(e=>!e.end_date))&&/*#__PURE__*/_jsx(\"div\",{className:\"active-jobs\",children:data.employments.filter(e=>!e.end_date).map((e,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"job-entry\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"position\",children:e.role_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"affiliation\",children:[e.organization,(e.start_date||e.end_date)&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",\"(\",e.start_date||\"?\",\" \\u2013 \",e.end_date||\"atual\",\")\"]})]})]},i))}),((_data$keywords=data.keywords)===null||_data$keywords===void 0?void 0:_data$keywords.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"keywords\",children:data.keywords.map((kw,i)=>/*#__PURE__*/_jsx(\"button\",{className:\"keyword-button\",onClick:()=>handleKeywordClick(kw),children:kw},i))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadXML,className:\"download-button\",children:\"Baixar XML do Perfil\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tabs modern-tabs\",style:{width:\"100%\"},children:[\"Biografia\",\"Publicações\",\"Métricas\"].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTab(tab),className:\"modern-tab-button \".concat(selectedTab===tab?\"active\":\"\"),children:tab},tab))}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[selectedTab===\"Biografia\"&&(hasBio||hasEmployments||hasEducations?/*#__PURE__*/_jsxs(\"div\",{className:\"bio-two-column\",children:[hasBio&&/*#__PURE__*/_jsxs(\"div\",{className:\"bio-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(FaRegUser,{className:\"section-icon\"}),\" Sobre\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bio-text \".concat(showFullBio?\"expanded\":\"collapsed\"),children:data.personal.biography}),data.personal.biography.length>500&&/*#__PURE__*/_jsx(\"button\",{className:\"see-more-button\",onClick:()=>setShowFullBio(prev=>!prev),children:showFullBio?\"Ver menos\":\"Ver mais\"})]}),hasEmployments&&/*#__PURE__*/_jsxs(\"div\",{className:\"bio-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(MdOutlineWorkOutline,{className:\"section-icon\"}),\" Empregos e cargos\"]}),data.employments.map((e,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"employment-entry\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"position\",children:e.role_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"affiliation\",children:[e.organization,(e.start_date||e.end_date)&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",\"(\",e.start_date||\"?\",\" \\u2013 \",e.end_date||\"atual\",\")\"]})]})]},i))]}),hasEducations&&/*#__PURE__*/_jsxs(\"div\",{className:\"bio-card full-width\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(PiStudentBold,{className:\"section-icon\"}),\" Educa\\xE7\\xE3o e qualifica\\xE7\\xF5es\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"education-grid\",children:data.educations.map((edu,i)=>{var _edu$areas;return/*#__PURE__*/_jsxs(\"div\",{className:\"education-block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"edu-institution\",children:edu.organization}),/*#__PURE__*/_jsx(\"p\",{className:\"edu-details\",children:edu.start_date}),/*#__PURE__*/_jsx(\"p\",{className:\"edu-details\",children:edu.degree_title}),((_edu$areas=edu.areas)===null||_edu$areas===void 0?void 0:_edu$areas.length)>0&&/*#__PURE__*/_jsx(\"p\",{className:\"edu-areas\",children:edu.areas.join(\", \")})]},i);})})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Nenhuma informa\\xE7\\xE3o biogr\\xE1fica dispon\\xEDvel para este perfil.\"})})),selectedTab===\"Publicações\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"search-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar trabalhos por t\\xEDtulo...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(FaSearch,{className:\"search-icon\"})]}),/*#__PURE__*/_jsx(FilterPanel,{years:Array.from(new Set(data.works.map(w=>w.year))).sort((a,b)=>b-a),filterYear:yearFilter,setFilterYear:setYearFilter,filterSortCitations:citationSort,setFilterSortCitations:setCitationSort}),/*#__PURE__*/_jsx(\"section\",{className:\"results-panel\",children:filteredWorks.length>0?/*#__PURE__*/_jsx(\"ul\",{children:filteredWorks.map((w,i)=>{var _w$cited_by_count;return/*#__PURE__*/_jsxs(\"li\",{onClick:e=>handleWorkClick(w,e),className:\"clickable-work\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[w.title,\" \",/*#__PURE__*/_jsxs(\"em\",{children:[\"(\",w.year||\"—\",\")\"]}),w.url&&/*#__PURE__*/_jsx(\"span\",{className:\"external-link-icon\",children:\" \\u2197\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"citation-count\",children:[(_w$cited_by_count=w.cited_by_count)!==null&&_w$cited_by_count!==void 0?_w$cited_by_count:0,\" cita\\xE7\\xF5es\"]})]},i);})}):/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum trabalho encontrado.\"})})]}),selectedTab===\"Métricas\"?filteredWorks.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title chart-title\",children:\"Crescimento de Produ\\xE7\\xE3o Cient\\xEDfica & M\\xE9tricas Chave\"}),/*#__PURE__*/_jsx(ChartsSection,{orcidId:authorId})]}),/*#__PURE__*/_jsx(AggregatedMetrics,{orcidId:authorId})]}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-metrics\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum trabalho encontrado.\"})}):null]}),selectedWork&&/*#__PURE__*/_jsx(\"div\",{className:\"work-modal-overlay \".concat(isModalClosing?\"closing\":\"\"),onClick:handleCloseModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"work-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-close-button\",onClick:handleCloseModal,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title\",children:selectedWork.title}),((_selectedWork$authors=selectedWork.authorships)===null||_selectedWork$authors===void 0?void 0:_selectedWork$authors.length)>0&&/*#__PURE__*/_jsx(\"p\",{className:\"modal-authors\",children:selectedWork.authorships.map((a,i)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>window.open(a.author_orcid,\"_blank\"),className:\"author-hover\",children:a.author_name}),i<selectedWork.authorships.length-1&&\", \"]},a.author_orcid))}),/*#__PURE__*/_jsxs(\"p\",{className:\"modal-subinfo\",children:[selectedWork.publication_year||selectedWork.orcid_publication_year,\" \",\"\\xB7 \",selectedWork.container||\"Periódico desconhecido\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipo:\"}),\" \",selectedWork.type||\"—\"]}),selectedWork.doi&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"DOI:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://doi.org/\".concat(selectedWork.doi),target:\"_blank\",rel:\"noopener noreferrer\",children:selectedWork.doi})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-square\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"Cita\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-value\",children:(_selectedWork$cited_b=selectedWork.cited_by_count)!==null&&_selectedWork$cited_b!==void 0?_selectedWork$cited_b:0})]}),selectedWork.url&&/*#__PURE__*/_jsx(\"a\",{href:selectedWork.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"modal-link-button\",onClick:e=>e.stopPropagation(),children:\"Ver publica\\xE7\\xE3o\"})]})]})})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useParams","FaSearch","FaMoon","FaSun","LoadingDrop","Sidebar","ChartsSection","FilterPanel","AggregatedMetrics","PiStudentBold","FaRegUser","MdOutlineWorkOutline","MenuIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_data$personal","_data$employments","_data$keywords","_selectedWork$authors","_selectedWork$cited_b","authorId","data","setData","loading","setLoading","error","setError","searchTerm","setSearchTerm","yearFilter","setYearFilter","citationSort","setCitationSort","filteredWorks","setFilteredWorks","sidebarOpen","setSidebarOpen","darkMode","setDarkMode","selectedTab","setTab","showFullBio","setShowFullBio","selectedWork","setSelectedWork","isModalClosing","setIsModalClosing","document","body","classList","toggle","toggleDarkMode","prev","fetchAll","res","fetch","concat","ok","Error","status","json","citRes","citJson","worksWithCitations","works_sorted_by_citations","updatedWorks","works","map","work","_matching$cited_by_co","matching","find","w","doi","_objectSpread","cited_by_count","err","message","handleKeywordClick","keyword","encodeURIComponent","console","fetchAndFilterWorks","sort","a","b","year","filter","_w$year","toString","_w$title","title","toLowerCase","includes","handleWorkClick","e","preventDefault","log","encodedDoi","detailedWork","handleDownloadXML","response","blob","url","window","URL","createObjectURL","createElement","href","download","click","revokeObjectURL","alert","handleCloseModal","setTimeout","className","children","hasBio","personal","biography","hasEmployments","Array","isArray","employments","length","hasEducations","educations","open","setOpen","onClick","src","alt","full_name","some","end_date","i","role_title","organization","start_date","keywords","kw","style","width","tab","edu","_edu$areas","degree_title","areas","join","type","placeholder","value","onChange","target","years","from","Set","filterYear","setFilterYear","filterSortCitations","setFilterSortCitations","_w$cited_by_count","orcidId","stopPropagation","authorships","author_orcid","author_name","publication_year","orcid_publication_year","container","rel"],"sources":["C:/Users/beatr/OneDrive/Documentos/engsoft/orcid-project-gavioes-da-fiel/frontend/src/pages/Dashboard.js"],"sourcesContent":["// src/pages/Dashboard.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { FaSearch, FaMoon, FaSun } from \"react-icons/fa\";\r\nimport \"../Dashboard.css\";\r\nimport LoadingDrop from \"../components/LoadingDrop\";\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport ChartsSection from \"../components/ChartsSection\";\r\nimport FilterPanel from \"../components/filtros\";\r\nimport AggregatedMetrics from \"../components/AggregatedMetrics\";\r\nimport { PiStudentBold } from \"react-icons/pi\";\r\nimport { FaRegUser } from \"react-icons/fa\";\r\nimport { MdOutlineWorkOutline } from \"react-icons/md\";\r\nimport MenuIcon from \"@mui/icons-material/Menu\";\r\n\r\nfunction Dashboard() {\r\n  const { authorId } = useParams();\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [yearFilter, setYearFilter] = useState(\"\");\r\n  const [citationSort, setCitationSort] = useState(\"\");\r\n  const [filteredWorks, setFilteredWorks] = useState([]);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const [selectedTab, setTab] = useState(\"Biografia\");\r\n  const [showFullBio, setShowFullBio] = useState(false);\r\n  const [selectedWork, setSelectedWork] = useState(null);\r\n  const [isModalClosing, setIsModalClosing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    document.body.classList.toggle(\"dark\", darkMode);\r\n  }, [darkMode]);\r\n\r\n  const toggleDarkMode = () => setDarkMode((prev) => !prev);\r\n\r\n  useEffect(() => {\r\n    async function fetchAll() {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await fetch(`http://localhost:8000/orcid/${authorId}/all`);\r\n        if (!res.ok) throw new Error(`Status ${res.status}`);\r\n        const json = await res.json();\r\n\r\n        // Faz fetch dos cited_by_count\r\n        const citRes = await fetch(\r\n          `http://localhost:8000/orcid/${authorId}/works/filter_by_citations`\r\n        );\r\n        if (!citRes.ok) throw new Error(`Status ${citRes.status}`);\r\n        const citJson = await citRes.json();\r\n        const worksWithCitations = citJson.works_sorted_by_citations;\r\n\r\n        const updatedWorks = (json.works || []).map((work) => {\r\n          const matching = worksWithCitations.find((w) => w.doi === work.doi);\r\n          return {\r\n            ...work,\r\n            cited_by_count: matching?.cited_by_count ?? 0,\r\n          };\r\n        });\r\n\r\n        setData({\r\n          ...json,\r\n          works: updatedWorks,\r\n        });\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchAll();\r\n  }, [authorId]);\r\n\r\n  const handleKeywordClick = async (keyword) => {\r\n    if (!keyword) return;\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:8000/orcid/${authorId}/works/filter_by_keyword?keyword=${encodeURIComponent(\r\n          keyword\r\n        )}`\r\n      );\r\n      if (!res.ok) throw new Error(`Status ${res.status}`);\r\n      const json = await res.json();\r\n      setFilteredWorks(json.works || []);\r\n      setTab(\"Publicações\");\r\n    } catch (err) {\r\n      console.error(\"Erro ao filtrar por keyword:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchAndFilterWorks() {\r\n      if (!data?.works) return;\r\n      try {\r\n        let works = [];\r\n        if (citationSort === \"desc\") {\r\n          const res = await fetch(\r\n            `http://localhost:8000/orcid/${authorId}/works/filter_by_citations`\r\n          );\r\n          if (!res.ok) throw new Error(`Status ${res.status}`);\r\n          const json = await res.json();\r\n          works = json.works_sorted_by_citations || [];\r\n        } else {\r\n          works = [...data.works].sort((a, b) => (b.year || 0) - (a.year || 0));\r\n        }\r\n        if (yearFilter) {\r\n          works = works.filter((w) => w.year?.toString() === yearFilter);\r\n        }\r\n        if (searchTerm) {\r\n          works = works.filter((w) =>\r\n            w.title?.toLowerCase().includes(searchTerm.toLowerCase())\r\n          );\r\n        }\r\n        setFilteredWorks(works);\r\n      } catch (err) {\r\n        console.error(\"Erro ao buscar obras filtradas:\", err);\r\n      }\r\n    }\r\n    fetchAndFilterWorks();\r\n  }, [authorId, data, searchTerm, yearFilter, citationSort]);\r\n\r\n  const handleWorkClick = async (work, e) => {\r\n    if (e) e.preventDefault();\r\n    if (!work?.doi) {\r\n      setSelectedWork(work); // fallback\r\n      return;\r\n    }\r\n    console.log(work);\r\n\r\n    setLoading(true);\r\n    try {\r\n      const encodedDoi = encodeURIComponent(work.doi);\r\n      const res = await fetch(\r\n        `http://localhost:8000/works/publication/${encodedDoi}`\r\n      );\r\n      if (!res.ok) throw new Error(\"Erro ao buscar detalhes da publicação\");\r\n\r\n      const detailedWork = await res.json();\r\n      setSelectedWork(detailedWork);\r\n    } catch (err) {\r\n      console.error(\"Erro ao buscar detalhes do trabalho:\", err);\r\n      setSelectedWork(work); // fallback\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadXML = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:8000/orcid/${authorId}/export/xml`\r\n      );\r\n      if (!response.ok) throw new Error(\"Erro ao baixar XML\");\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `perfil_${authorId}.xml`;\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error(\"Erro ao baixar o XML:\", error);\r\n      alert(\"Falha ao baixar o arquivo XML.\");\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalClosing(true);\r\n    setTimeout(() => {\r\n      setSelectedWork(null);\r\n      setIsModalClosing(false);\r\n    }, 300);\r\n  };\r\n\r\n  if (loading && !data) return <LoadingDrop />;\r\n  if (error) return <p className=\"error\">Erro: {error}</p>;\r\n  if (!data) return null;\r\n\r\n  const hasBio = !!data.personal?.biography;\r\n  const hasEmployments =\r\n    Array.isArray(data.employments) && data.employments.length > 0;\r\n  const hasEducations =\r\n    Array.isArray(data.educations) && data.educations.length > 0;\r\n\r\n  return (\r\n    <div className={`dashboard-container${sidebarOpen ? \" sidebar-open\" : \"\"}`}>\r\n      <Sidebar open={sidebarOpen} setOpen={setSidebarOpen} data={data} />\r\n      <header className=\"dashboard-header\">\r\n        <button\r\n          className=\"hamburger\"\r\n          onClick={() => setSidebarOpen(!sidebarOpen)}\r\n          aria-label=\"Toggle sidebar\"\r\n        >\r\n          <MenuIcon />\r\n        </button>\r\n        <div className=\"logo\">\r\n          <img\r\n            src=\"../img/logo.png\"\r\n            alt=\"Logo da Plataforma\"\r\n            className=\"logo-img\"\r\n          />\r\n        </div>\r\n        <div className=\"header-controls\">\r\n          <button className=\"theme-toggle\" onClick={toggleDarkMode}>\r\n            {darkMode ? <FaSun /> : <FaMoon />}\r\n          </button>\r\n        </div>\r\n      </header>\r\n      <main className=\"main-content\">\r\n        <div className=\"profile-box\">\r\n          <h1>{data.personal.full_name}</h1>\r\n          {data.employments?.some((e) => !e.end_date) && (\r\n            <div className=\"active-jobs\">\r\n              {data.employments\r\n                .filter((e) => !e.end_date)\r\n                .map((e, i) => (\r\n                  <div key={i} className=\"job-entry\">\r\n                    <p className=\"position\">{e.role_title}</p>\r\n                    <p className=\"affiliation\">\r\n                      {e.organization}\r\n                      {(e.start_date || e.end_date) && (\r\n                        <>\r\n                          {\" \"}\r\n                          ({e.start_date || \"?\"} – {e.end_date || \"atual\"})\r\n                        </>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          )}\r\n          {data.keywords?.length > 0 && (\r\n            <div className=\"keywords\">\r\n              {data.keywords.map((kw, i) => (\r\n                <button\r\n                  key={i}\r\n                  className=\"keyword-button\"\r\n                  onClick={() => handleKeywordClick(kw)}\r\n                >\r\n                  {kw}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n          <button onClick={handleDownloadXML} className=\"download-button\">\r\n            Baixar XML do Perfil\r\n          </button>\r\n        </div>\r\n        <div className=\"tabs modern-tabs\" style={{ width: \"100%\" }}>\r\n          {[\"Biografia\", \"Publicações\", \"Métricas\"].map((tab) => (\r\n            <button\r\n              key={tab}\r\n              onClick={() => setTab(tab)}\r\n              className={`modern-tab-button ${\r\n                selectedTab === tab ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              {tab}\r\n            </button>\r\n          ))}\r\n        </div>\r\n        <div className=\"tab-content\">\r\n          {selectedTab === \"Biografia\" &&\r\n            (hasBio || hasEmployments || hasEducations ? (\r\n              <div className=\"bio-two-column\">\r\n                {hasBio && (\r\n                  <div className=\"bio-card\">\r\n                    <h3 className=\"section-title\">\r\n                      <FaRegUser className=\"section-icon\" /> Sobre\r\n                    </h3>\r\n                    <div\r\n                      className={`bio-text ${\r\n                        showFullBio ? \"expanded\" : \"collapsed\"\r\n                      }`}\r\n                    >\r\n                      {data.personal.biography}\r\n                    </div>\r\n                    {data.personal.biography.length > 500 && (\r\n                      <button\r\n                        className=\"see-more-button\"\r\n                        onClick={() => setShowFullBio((prev) => !prev)}\r\n                      >\r\n                        {showFullBio ? \"Ver menos\" : \"Ver mais\"}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {hasEmployments && (\r\n                  <div className=\"bio-card\">\r\n                    <h3 className=\"section-title\">\r\n                      <MdOutlineWorkOutline className=\"section-icon\" /> Empregos\r\n                      e cargos\r\n                    </h3>\r\n                    {data.employments.map((e, i) => (\r\n                      <div key={i} className=\"employment-entry\">\r\n                        <p className=\"position\">{e.role_title}</p>\r\n                        <p className=\"affiliation\">\r\n                          {e.organization}\r\n                          {(e.start_date || e.end_date) && (\r\n                            <>\r\n                              {\" \"}\r\n                              ({e.start_date || \"?\"} – {e.end_date || \"atual\"})\r\n                            </>\r\n                          )}\r\n                        </p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n                {hasEducations && (\r\n                  <div className=\"bio-card full-width\">\r\n                    <h3 className=\"section-title\">\r\n                      <PiStudentBold className=\"section-icon\" /> Educação e\r\n                      qualificações\r\n                    </h3>\r\n                    <div className=\"education-grid\">\r\n                      {data.educations.map((edu, i) => (\r\n                        <div key={i} className=\"education-block\">\r\n                          <p className=\"edu-institution\">{edu.organization}</p>\r\n                          <p className=\"edu-details\">{edu.start_date}</p>\r\n                          <p className=\"edu-details\">{edu.degree_title}</p>\r\n                          {edu.areas?.length > 0 && (\r\n                            <p className=\"edu-areas\">{edu.areas.join(\", \")}</p>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-state\">\r\n                <p>\r\n                  Nenhuma informação biográfica disponível para este perfil.\r\n                </p>\r\n              </div>\r\n            ))}\r\n\r\n          {selectedTab === \"Publicações\" && (\r\n            <>\r\n              <section className=\"search-section\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Buscar trabalhos por título...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n                <FaSearch className=\"search-icon\" />\r\n              </section>\r\n              <FilterPanel\r\n                years={Array.from(new Set(data.works.map((w) => w.year))).sort(\r\n                  (a, b) => b - a\r\n                )}\r\n                filterYear={yearFilter}\r\n                setFilterYear={setYearFilter}\r\n                filterSortCitations={citationSort}\r\n                setFilterSortCitations={setCitationSort}\r\n              />\r\n              <section className=\"results-panel\">\r\n                {filteredWorks.length > 0 ? (\r\n                  <ul>\r\n                    {filteredWorks.map((w, i) => (\r\n                      <li\r\n                        key={i}\r\n                        onClick={(e) => handleWorkClick(w, e)}\r\n                        className=\"clickable-work\"\r\n                      >\r\n                        <div>\r\n                          {w.title} <em>({w.year || \"—\"})</em>\r\n                          {w.url && (\r\n                            <span className=\"external-link-icon\"> ↗</span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"citation-count\">\r\n                          {w.cited_by_count ?? 0} citações\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                ) : (\r\n                  <p>Nenhum trabalho encontrado.</p>\r\n                )}\r\n              </section>\r\n            </>\r\n          )}\r\n\r\n          {selectedTab === \"Métricas\" ? (\r\n            filteredWorks.length > 0 ? (\r\n              <div className=\"metrics-layout\">\r\n                <div className=\"chart-container-card\">\r\n                  <h3 className=\"section-title chart-title\">\r\n                    Crescimento de Produção Científica & Métricas Chave\r\n                  </h3>\r\n                  <ChartsSection orcidId={authorId} />\r\n                </div>\r\n                <AggregatedMetrics orcidId={authorId} />\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-state-metrics\">\r\n                <p>Nenhum trabalho encontrado.</p>\r\n              </div>\r\n            )\r\n          ) : null}\r\n        </div>\r\n\r\n        {/* Modal para exibir detalhes do trabalho */}\r\n        {selectedWork && (\r\n          <div\r\n            className={`work-modal-overlay ${isModalClosing ? \"closing\" : \"\"}`}\r\n            onClick={handleCloseModal}\r\n          >\r\n            <div className=\"work-modal\" onClick={(e) => e.stopPropagation()}>\r\n              <button className=\"modal-close-button\" onClick={handleCloseModal}>\r\n                &times;\r\n              </button>\r\n\r\n              <h3 className=\"modal-title\">{selectedWork.title}</h3>\r\n\r\n              {selectedWork.authorships?.length > 0 && (\r\n                <p className=\"modal-authors\">\r\n                  {selectedWork.authorships.map((a, i) => (\r\n                    <React.Fragment key={a.author_orcid}>\r\n                      <span\r\n                        onClick={() => window.open(a.author_orcid, \"_blank\")}\r\n                        className=\"author-hover\"\r\n                      >\r\n                        {a.author_name}\r\n                      </span>\r\n                      {i < selectedWork.authorships.length - 1 && \", \"}\r\n                    </React.Fragment>\r\n                  ))}\r\n                </p>\r\n              )}\r\n              <p className=\"modal-subinfo\">\r\n                {selectedWork.publication_year ||\r\n                  selectedWork.orcid_publication_year}{\" \"}\r\n                · {selectedWork.container || \"Periódico desconhecido\"}\r\n              </p>\r\n\r\n              <div className=\"modal-details\">\r\n                <p>\r\n                  <strong>Tipo:</strong> {selectedWork.type || \"—\"}\r\n                </p>\r\n                {selectedWork.doi && (\r\n                  <p>\r\n                    <strong>DOI:</strong>{\" \"}\r\n                    <a\r\n                      href={`https://doi.org/${selectedWork.doi}`}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                    >\r\n                      {selectedWork.doi}\r\n                    </a>\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"metric-square\">\r\n                  <span className=\"metric-label\">Citações</span>\r\n                  <br></br>\r\n                  <span className=\"metric-value\">\r\n                    {selectedWork.cited_by_count ?? 0}\r\n                  </span>\r\n                </div>\r\n                {selectedWork.url && (\r\n                  <a\r\n                    href={selectedWork.url}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"modal-link-button\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                  >\r\n                    Ver publicação\r\n                  </a>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}